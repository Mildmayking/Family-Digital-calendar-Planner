<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Family Hub Calendar - SaaS Ready</title>
    
    <!-- ---------------------------------------------------- -->
    <!-- START: MOBILE HOME SCREEN & BRANDING (FAVICON) FIX -->
    <!-- ---------------------------------------------------- -->
    
    <!-- Standard Favicon -->
    <link rel="icon" href="/favicon.ico">
    
    <!-- Apple Touch Icon (For iOS Home Screen) -->
    <!-- NOTE: REPLACE THIS URL WITH YOUR UPLOADED LOGO LINK LATER -->
    <link rel="apple-touch-icon" sizes="180x180" href="https://placehold.co/180x180/6366f1/ffffff?text=FH">
    
    <!-- Mobile App Name (To prevent long URL text on home screen) -->
    <meta name="apple-mobile-web-app-title" content="Family Hub">
    <meta name="application-name" content="Family Hub">
    
    <!-- Theme Color (Sets the browser/OS UI color on mobile devices) -->
    <meta name="theme-color" content="#4f46e5">

    <!-- ---------------------------------------------------- -->
    <!-- END: MOBILE HOME SCREEN & BRANDING FIX -->
    <!-- ---------------------------------------------------- -->

    <!-- Tailwind CSS (loaded from CDN) -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Lucide Icons (Required by FamilyPlanner.js) -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        /* Base Styling */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&family=Comic+Neue:wght@300;400;700&display=swap');
        body { font-family: 'Inter', sans-serif; }
        .font-comic { font-family: 'Comic Neue', cursive; }
        /* Utility Classes for Responsiveness/Aesthetics */
        .scrollbar-hide::-webkit-scrollbar { display: none; }
        .scrollbar-hide { -ms-overflow-style: none; scrollbar-width: none; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .animate-fade-in-up { animation: fadeIn 0.5s ease-out; }
    </style>
</head>
<body>
    <div id="root"></div>

    <!-- 1. REACT AND REACT-DOM -->
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>

    <!-- 2. FIREBASE SDK IMPORTS (Exposes global F_ functions used in FamilyPlanner.js) -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
        import { getAuth, signInWithEmailAndPassword, createUserWithEmailAndPassword, signOut, onAuthStateChanged, signInAnonymously, signInWithCustomToken } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";
        import { getFirestore, collection, addDoc, query, where, onSnapshot, deleteDoc, doc, setDoc, updateDoc, getDoc, getDocs } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";
        
        // Expose Firebase services globally under the 'F_' prefix
        window.F_initializeApp = initializeApp;
        window.F_getAuth = getAuth;
        window.F_signInWithEmailAndPassword = signInWithEmailAndPassword;
        window.F_createUserWithEmailAndPassword = createUserWithEmailAndPassword;
        window.F_signOut = signOut;
        window.F_onAuthStateChanged = onAuthStateChanged;
        window.F_signInAnonymously = signInAnonymously;
        window.F_signInWithCustomToken = signInWithCustomToken;
        window.F_getFirestore = getFirestore;
        window.F_collection = collection;
        window.F_addDoc = addDoc;
        window.F_query = query;
        window.F_where = where;
        window.F_onSnapshot = onSnapshot;
        window.F_deleteDoc = deleteDoc;
        window.F_doc = doc;
        window.F_setDoc = setDoc;
        window.F_updateDoc = updateDoc;
        window.F_getDoc = getDoc;
        window.F_getDocs = getDocs;
    </script>

    <!-- 3. YOUR APPLICATION CODE (Must be placed in src/FamilyPlanner.js relative to this file) -->
    <script src="src/FamilyPlanner.js"></script>

    <!-- 4. APPLICATION RENDERER -->
    <script>
        // Ensure the App component is rendered once the DOM is ready
        document.addEventListener('DOMContentLoaded', () => {
             // Delay execution slightly to ensure all module imports (Firebase) have completed
            setTimeout(() => {
                // RENDER APP COMPONENT
                const root = ReactDOM.createRoot(document.getElementById('root'));
                root.render(React.createElement(App, null));
                
                // Initialize Lucide icons after rendering
                lucide.createIcons(); 
            }, 500); 
        });
    </script>
</body>
</html>
